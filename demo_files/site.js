// Generated by CoffeeScript 1.6.3
(function(){jQuery(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v;$(document).foundation();$("#any-date").change(function(){var e;e=$(this).prop("checked");return $(".date-select-filter").prop("disabled",e)});$(".news-filter-list .filter-toggle").click(function(e){var t,n;n=$(this).closest(".news-filter-list");t=n.find(".news-filter");if(t.is(":visible")){$(this).removeClass("active");return t.slideUp()}$(this).addClass("active");return t.slideDown()});$("[data-gallery-target]").each(function(){return $("<img />")[0].src=$(this).prop("href")});$(document).on("click","[data-gallery-target]",function(e){var t,n;e.preventDefault();n=$("#"+$(this).data("galleryTarget"));t=$("<img />");t[0].src=$(this).prop("href");return n.html(t)});n=window.bannerSpeed;if($("body").is("#homepage")&&n){e=$(".banner-indicators");r='<a href="#" class="cta arrow-button">Learn More<i></i></a>';t=0;h=isNaN(parseInt(n))?5e3:n;for(u=d=0,v=bannerStops.length-1;0<=v?d<=v:d>=v;u=0<=v?++d:--d){p=bannerStops[u];c=$("<img />");c[0].src=p.img;e.append("<a href='#'></a>\n")}e.find("a:first").addClass("active");i=function(n){var i,s,o,u,a;e.find(".active").removeClass("active");e.find("a:nth-child("+(t+1)+")").addClass("active");$("#banner-nav ul li.active").removeClass("active");n.service&&$("#banner-nav ul a."+n.service).closest("li").addClass("active");s=$("#banner-content");a=$("<div class='next-banner-content "+(n.service||"")+"' />");a.html(n.content);s.after(a);i=$(".banner-background");u=$("<img class='next-banner-background' />");u[0].src=n.img;i.after(u);if(n.link){o=$(r);o[0].href=n.link;a.append(o)}s.remove();a.removeClass("next-banner-content").attr("id","banner-content");return i.fadeOut("slow",function(){i.remove();return u.addClass("banner-background").removeClass("next-banner-background")})};f=function(){t++;t>=bannerStops.length&&(t=0);return i(bannerStops[t])};s=setInterval(f,h);e.on("click","a",function(e){e.preventDefault();t=$(this).index();i(bannerStops[t]);clearInterval(s);return s=setInterval(f,h)})}l=[];$("#banner-nav nav > ul > li").each(function(){this.nav_offset=$(this).position().top+$(this).index()*2;return l.push(this.nav_offset)});a=Math.min.apply(null,l);$("#banner-nav nav ul ul").css("top",function(){return-($(this).closest("li")[0].nav_offset-a)});o=function(){var e,t;t=window.location.hash.substr(1);if(t&&$("#"+t).is(".drawer")){e=$("#"+t);e.siblings(".active").removeClass("active");e.addClass("active");return $("body, html").animate({scrollTop:e.offset().top})}};o();$(window).on("hashchange",function(){return setTimeout(o,501)});$(".drawer-header").click(function(){var e;e=$(this).closest(".drawer");if(!e.is(".active"))return window.location.hash=e.attr("id")});return $(".tilt-drawers").tiltDrawers()});$.fn.tiltDrawers=function(e){var t,n,r;e==null&&(e={});r={animated:"slide",animationDuration:500,multiple:!1};e=$.extend({},r,e);n={};switch(e.animated){case"slide":n.open="slideDown";n.close="slideUp";break;case"fade":n.open="fadeIn";n.close="fadeOut";break;default:n.open="show";n.close="hide"}t=$(this);t.find(".drawer.active .drawer-contents").show();return t.find(".drawer-header").click(function(){var r;r=$(this).closest(".drawer");if(r.hasClass("active")){$(this).next(".drawer-contents")[n.close](e.animationDuration);return r.removeClass("active")}e.multiple||t.find(".drawer.active").each(function(){$(this).find(".drawer-contents")[n.close](e.animationDuration);return $(this).removeClass("active")});$(this).next(".drawer-contents")[n.open](e.animationDuration);return r.addClass("active")})}}).call(this);